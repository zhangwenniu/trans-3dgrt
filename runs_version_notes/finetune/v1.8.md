# 版本 1.8 更新说明

## 主要变更

在这个版本中，我们移除了轮廓损失(Silhouette Loss)，仅保留基于颜色(Color)的优化，以测试在没有轮廓损失的情况下模型的表现。这是对版本1.7的反向实验，旨在比较颜色损失与轮廓损失各自的能力。

## 技术细节

1. **颜色损失 (Color Loss)**
   - 使用L1损失函数计算预测RGB与真实RGB之间的差异
   - 权重系数保持为1.0，以确保足够的优化信号

2. **Eikonal损失**
   - 保持SDF梯度的单位长度约束
   - 权重系数保持为0.1

3. **法线平滑度损失**
   - 保持表面法线的平滑性约束
   - 权重系数保持为0.005

4. **移除的功能**
   - 移除了轮廓损失(Silhouette Loss)计算
   - 不再使用二元交叉熵损失函数计算预测轮廓与真实掩码之间的差异
   - 目的是测试在仅有颜色约束的情况下模型的表现

## 实验目的

通过移除轮廓损失，我们希望观察：
1. 模型是否能仅依靠颜色信息重建物体的几何形状
2. 颜色损失对几何形状重建的贡献程度
3. 与版本1.7（仅使用轮廓损失）相比较，评估两种损失函数各自的优势和局限性
4. 确定在不同场景下哪种损失函数更为重要


## 实现变更

在训练的过程中中，我们还对梯度计算方式进行了修改：

1. **射线梯度计算方向调整**
   - 在`/home/zhangwenniu/github/3dgrut/threedgrt_tracer/include/3dgrt/kernels/cuda/gaussianParticles.cuh`中
   - 将射线原点(ori_grad)和方向(dir_grad)的梯度累加方式从`+=`改为`-=`
   - 这一变更可能会影响训练过程中梯度的传播方向，从而改变优化路径

2. **潜在影响**
   - 梯度方向的反转可能会导致优化过程中参数更新的方向发生变化
   - 可能会影响模型收敛的速度和稳定性
   - 在仅有颜色损失的情况下，这一变更的效果可能会更加明显

我们将密切监控这一变更对训练结果的影响，并与之前版本进行对比分析。
